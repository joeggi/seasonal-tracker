<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Data Display</title>
    <script src="/static/scripts/rendering.js"></script>
    <script src="https://unpkg.com/vue@3"></script>
</head>

<body>
    <h1>MyAnimeList API Fetch</h1>
    <div id="caption">
        Here is some recent activity from {{ username }}:
    </div>
    <div id="data-summary">
        {% for index in data_slice['title'] %}
        {% if data_slice['status'][index] == 'Completed' %}
        <div>
            <h3>{{ data_slice['title'][index] }}</h3>
            <p>Finished series {{ data_slice['title'][index] }} on {{ data_slice['date'][index] }} </p>
            <p>Rated series {{ data_slice['rating'][index] }} / 10</p>
        </div>
        {% elif data_slice['status'][index] == 'Plan to Watch' %}
        <div>
            <h3>{{ data_slice['title'][index] }}</h3>
            <p>Added series {{ data_slice['title'][index] }} as planned to watch on {{ data_slice['date'][index] }} </p>
        </div>
        {% elif data_slice['eps_seen'][index] == None %}
        <div>
            <h3>{{ data_slice['title'][index] }}</h3>
            <p>Watched an episode on {{ data_slice['date'][index] }}, series is of
                unknown length </p>
        </div>
        {% elif data_slice['status'][index] == 'Watching' %}
        <div>
            <h3>{{ data_slice['title'][index] }}</h3>
            <p>Watched episode {{ data_slice['eps_seen'][index] }} on {{ data_slice['date'][index] }} </p>
        </div>
        {% endif %}
        {% endfor %}
    </div>
    <button id="prevButton" data-page="{{ page }}" data-query="{{ request.args.get('query') }}">Previous</button>
    <button id="nextButton" data-page="{{ page }}" data-query="{{ request.args.get('query') }}">Next</button><br>
    <a href="/" class='btn btn-primary'>Return to search</a>
</body>

</html>