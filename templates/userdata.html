<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Data Display</title>
    <script src="/static/scripts/fader.js"></script>
    <link rel="stylesheet" type="text/css" href="../static/css/main.css">
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <svg id="fader-item"></svg>
    <script>
        fadeInPage();
    </script>
    <div class="bg-image"></div>
    <div class="searchResult">
        <h1>MyAnimeList API Fetch</h1>
        <div id="caption">
            {{caption}}
        </div>
        <div id="data-summary">
            {% if data_type == 'activity' %}
            {% for index in data_slice['title'] %}
            {% if data_slice['status'][index] == 'Completed' %}
            <div>
                <h3>{{ data_slice['title'][index] }}</h3>
                <p>Finished series {{ data_slice['title'][index] }} on {{ data_slice['date'][index] }}, rated series a
                    {{ data_slice['rating'][index] }}/10. </p>
            </div>
            {% elif data_slice['status'][index] == 'Plan to Watch' %}
            <div>
                <h3>{{ data_slice['title'][index] }}</h3>
                <p>Added series {{ data_slice['title'][index] }} as planned to watch on {{ data_slice['date'][index] }}.
                </p>
            </div>
            {% elif data_slice['eps_seen'][index] == None %}
            <div>
                <h3>{{ data_slice['title'][index] }}</h3>
                <p>Watched an episode on {{ data_slice['date'][index] }}, series is of
                    unknown length. </p>
            </div>
            {% elif data_slice['status'][index] == 'Watching' %}
            <div>
                <h3>{{ data_slice['title'][index] }}</h3>
                <p>Watched episode {{ data_slice['eps_seen'][index] }} on {{ data_slice['date'][index] }}. </p>
            </div>
            {% elif data_slice['status'][index] == 'Re-watching' %}
            <div>
                <h3>{{ data_slice['title'][index] }}</h3>
                <p>Rewatched up through episode {{ data_slice['eps_seen'][index] }} on {{ data_slice['date'][index] }}.
                    {{ username }} scored
                    this show a {{ data_slice['rating'][index]}}. </p>
            </div>
            {% elif data_slice['status'][index] == 'On-Hold' %}
            <div>
                <h3>{{ data_slice['title'][index] }}</h3>
                <p>Placed series on hold on {{ data_slice['date'][index] }} after watching through episode {{
                    data_slice['eps_seen'][index] }}. </p>
            </div>
            {% elif data_slice['status'][index] == 'Dropped' %}
            <div>
                <h3>{{ data_slice['title'][index] }}</h3>
                <p>Dropped series on {{ data_slice['date'][index] }} after watching through episode {{
                    data_slice['eps_seen'][index] }}. </p>
            </div>
            {% endif %}
            {% endfor %}
            {% elif data_type == 'favorites' %}
            <div class="row">
                <div class="col-sm-6">
                    {% if data_slice['title'][0] == "NA" %}
                    <p>{{ username }} has no favorite anime..</p>
                    {% else %}
                    {% for index in data_slice['title'] %}
                    <p>{{ data_slice['title'][index]}} ({{data_slice['year'][index]}})</p>
                    {% endfor %}
                    {% endif %}
                </div>
                <div class="col-sm-6">
                    {% for index in data_slice['char'] %}
                    <p>{{ data_slice['char'][index]}}</p>
                    {% endfor %}
                </div>
            </div>
            {% endif %}
        </div>
        <a href="/" class='btn btn-primary'>Return to search</a>
    </div>
</body>

</html>